{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { tap, switchMap, filter, debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport { merge } from 'rxjs';\nimport { HttpParams } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/table.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\n\nfunction TableComponent_div_1_ng_container_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\")(5, \"strong\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"td\")(8, \"strong\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\")(11, \"strong\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\")(14, \"strong\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const Table_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", Table_r1[0].odometer, \" Km\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", Table_r1[0].fuel_level, \" %\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(Table_r1[0].vehicle_status);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(Table_r1[0].latitude);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(Table_r1[0].longitude);\n  }\n}\n\nfunction TableComponent_div_1_ng_container_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\")(2, \"strong\");\n    i0.ɵɵtext(3, \"- Km\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\")(5, \"strong\");\n    i0.ɵɵtext(6, \"- %\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"td\")(8, \"strong\");\n    i0.ɵɵtext(9, \"-\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\")(11, \"strong\");\n    i0.ɵɵtext(12, \"-\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\")(14, \"strong\");\n    i0.ɵɵtext(15, \"-\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction TableComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"table\")(3, \"thead\", 3)(4, \"th\");\n    i0.ɵɵtext(5, \"C\\u00F3digo - Vin\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"th\");\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Od\\u00F4metro\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"N\\u00EDvel de Combust\\u00EDvel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Lat.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Long.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"tbody\", 4)(18, \"td\");\n    i0.ɵɵelement(19, \"input\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\")(21, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function TableComponent_div_1_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.addVehicleData());\n    });\n    i0.ɵɵelementStart(22, \"span\", 7);\n    i0.ɵɵtext(23, \"add\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"button\")(25, \"span\", 7);\n    i0.ɵɵtext(26, \"update\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"button\")(28, \"span\", 7);\n    i0.ɵɵtext(29, \"delete\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(30, TableComponent_div_1_ng_container_30_Template, 16, 5, \"ng-container\", 8);\n    i0.ɵɵtemplate(31, TableComponent_div_1_ng_container_31_Template, 16, 0, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(32, \"tfoot\", 10);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const Table_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.printTable(Table_r1), \" \");\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.tableInput);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", Table_r1[0]);\n  }\n}\n\nconst WAIT_TYPING = 300;\nexport class TableComponent {\n  constructor(tableService) {\n    this.tableService = tableService;\n    this.typedValue = '2FRHDUYS2Y63NHD22454';\n    this.tableInput = new FormControl('2FRHDUYS2Y63NHD22454');\n    this.allTable$ = this.tableService.getTable(this.typedValue).pipe(tap(() => {\n      console.log(\"Fluxo Inicial\");\n    }));\n    this.filterByInput$ = this.tableInput.valueChanges.pipe(debounceTime(WAIT_TYPING), tap(() => {\n      console.log(\"Fluxo do Filtro\");\n    }), tap(console.log), filter(typedValue => typedValue.length >= 4 || !typedValue.length), distinctUntilChanged(), switchMap(typedValue => this.tableService.getTable(typedValue)));\n    this.Table$ = merge(this.allTable$, this.filterByInput$);\n  }\n\n  addVehicleData(valor) {\n    const params = valor ? new HttpParams().append('valor', valor) : undefined;\n    return this.httpClient.post(`http://localhost:3001/vehicleData/`, {\n      params\n    });\n  }\n\n  printTable(value) {\n    console.log(value);\n  }\n\n}\n\nTableComponent.ɵfac = function TableComponent_Factory(t) {\n  return new (t || TableComponent)(i0.ɵɵdirectiveInject(i1.TableService));\n};\n\nTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TableComponent,\n  selectors: [[\"app-table\"]],\n  decls: 3,\n  vars: 3,\n  consts: [[1, \"table\"], [\"class\", \"td-page-wrapper\", 4, \"ngIf\"], [1, \"td-page-wrapper\"], [1, \"table-head\"], [1, \"table-body\"], [3, \"formControl\"], [3, \"click\"], [1, \"material-symbols-outlined\"], [4, \"ngIf\"], [4, \"ngElse\"], [1, \"table-foot\"]],\n  template: function TableComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, TableComponent_div_1_Template, 33, 3, \"div\", 1);\n      i0.ɵɵpipe(2, \"async\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx.Table$));\n    }\n  },\n  dependencies: [i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlDirective, i2.AsyncPipe],\n  styles: [\"table[_ngcontent-%COMP%]{\\r\\n  margin:25px;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.table-head[_ngcontent-%COMP%]{\\r\\n  background-color: rgb(5, 16, 163);\\r\\n  color:white;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.table-body[_ngcontent-%COMP%]{\\r\\n  text-align: center;\\r\\n  font-family: Arial, Helvetica, bold, sans-serif;\\r\\n}\\r\\n\\r\\n.table-foot[_ngcontent-%COMP%]{\\r\\n  background-color: rgb(5, 16, 163);\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYmxlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0VBQ1gsV0FBVztBQUNiOztBQUVBO0VBQ0UsaUNBQWlDO0VBQ2pDLFdBQVc7RUFDWCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsK0NBQStDO0FBQ2pEOztBQUVBO0VBQ0UsaUNBQWlDO0FBQ25DIiwiZmlsZSI6InRhYmxlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZXtcclxuICBtYXJnaW46MjVweDtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnRhYmxlLWhlYWR7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDUsIDE2LCAxNjMpO1xyXG4gIGNvbG9yOndoaXRlO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnRhYmxlLWJvZHl7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBib2xkLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4udGFibGUtZm9vdHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNSwgMTYsIDE2Myk7XHJcbn1cclxuXHJcbiJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","tap","switchMap","filter","debounceTime","distinctUntilChanged","merge","HttpParams","i0","WAIT_TYPING","TableComponent","constructor","tableService","getTable","typedValue","pipe","console","log","tableInput","valueChanges","length","allTable$","filterByInput$","addVehicleData","valor","params","append","undefined","httpClient","post","printTable","value","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Leonardo\\Faculdade\\CIMATEC\\Sprint_FULLSTACK_ANGULAR_NODEJS\\Desafio\\ford\\src\\app\\dashboard\\table\\table.component.ts","D:\\Leonardo\\Faculdade\\CIMATEC\\Sprint_FULLSTACK_ANGULAR_NODEJS\\Desafio\\ford\\src\\app\\dashboard\\table\\table.component.html"],"sourcesContent":["import { TableService } from './services/table.service';\nimport { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { tap, switchMap, filter, debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport { merge } from 'rxjs';\nimport { HttpParams } from '@angular/common/http';\n\n\nconst WAIT_TYPING = 300;\n@Component({\n  selector: 'app-table',\n  templateUrl: './table.component.html',\n  styleUrls: ['./table.component.css']\n})\nexport class TableComponent {\n\n  typedValue = '2FRHDUYS2Y63NHD22454';\n  tableInput = new FormControl('2FRHDUYS2Y63NHD22454');\n   allTable$ = this.tableService.getTable(this.typedValue).pipe(\n     tap(()=>{console.log(\"Fluxo Inicial\")\n   })\n );\n\n  filterByInput$ = this.tableInput.valueChanges.pipe(\n    debounceTime(WAIT_TYPING),\n    tap(()=>{console.log(\"Fluxo do Filtro\")}),\n    tap(console.log),\n    filter((typedValue)=>typedValue.length >= 4 || !typedValue.length),\n    distinctUntilChanged(),\n    switchMap((typedValue)=>this.tableService.getTable(typedValue))\n  );\n\n  addVehicleData(valor?:string) {\n    const params = valor ? new HttpParams().append('valor', valor) : undefined;\n    return this.httpClient\n    .post<Table[]>(`http://localhost:3001/vehicleData/`, { params });\n  }\n\n\n  Table$ = merge(this.allTable$, this.filterByInput$);\n\n  constructor(private tableService: TableService) {\n\n    }\n  printTable(value){\n    console.log(value)\n  }\n  }\n","\n<div class=\"table\">\n  <div class=\"td-page-wrapper\" *ngIf=\"Table$ | async as Table\">\n    {{printTable(Table)}}\n    <table>\n      <thead class=\"table-head\">\n        <th>Código - Vin</th>\n        <th></th>\n        <th>Odômetro</th>\n        <th>Nível de Combustível</th>\n        <th>Status</th>\n        <th>Lat.</th>\n        <th>Long.</th>\n      </thead>\n      <tbody class=\"table-body\">\n        <td><input [formControl]=\"tableInput\"></td>\n        <td>\n          <button (click)=\"addVehicleData()\"><span class=\"material-symbols-outlined\">add</span></button>\n          <button><span class=\"material-symbols-outlined\">update</span></button>\n          <button><span class=\"material-symbols-outlined\">delete</span></button>\n        </td>\n        <ng-container *ngIf=\"Table[0]\">\n          <td><strong>{{(Table[0].odometer)}} Km</strong></td>\n          <td><strong>{{(Table[0].fuel_level)}} %</strong></td>\n          <td><strong>{{Table[0].vehicle_status}}</strong></td>\n          <td><strong>{{Table[0].latitude}}</strong></td>\n          <td><strong>{{Table[0].longitude}}</strong></td>\n        </ng-container>\n        <ng-container *ngElse>\n          <td><strong>- Km</strong></td>\n          <td><strong>- %</strong></td>\n          <td><strong>-</strong></td>\n          <td><strong>-</strong></td>\n          <td><strong>-</strong></td>\n        </ng-container>\n      </tbody>\n      <tfoot class=\"table-foot\">\n      </tfoot>\n    </table>\n  </div>\n</div>\n\n\n"]},"metadata":{},"sourceType":"module"}