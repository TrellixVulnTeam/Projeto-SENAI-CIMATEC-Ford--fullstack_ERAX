{"ast":null,"code":"import _asyncToGenerator from \"D:/Leonardo/Faculdade/CIMATEC/Sprint_FULLSTACK_ANGULAR_NODEJS/Desafio/ford/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { switchMap, tap } from 'rxjs/operators';\nimport { merge } from 'rxjs';\nlet DashboardComponent = class DashboardComponent {\n  // initialVehicleInfoUrl$ = \"assets/img/ranger.png\"\n  // initialVehicleInfoUrl = this.vehicleInfoService.getVehicleInfo(this.initialVehicleId).pipe(\n  //   switchMap((value)=>this.vehicles.filter(vehicle => vehicle.id === value)),\n  //   tap(console.log),\n  // );\n  //  vehicleInfoUrl$ = this.vehicleId.valueChanges.pipe(\n  //    switchMap((value) => this.vehicleInfoService.getVehicleInfo(value as string)),\n  //    tap(console.log),\n  //  )\n  // vehicles = [{\n  //   id: \"1\",\n  //   name: \"Ranger\",\n  //   url: \"assets/img/ranger.png\",\n  // }, {\n  //   id: \"2\",\n  //   name: \"Mustang\",\n  //   url: \"assets/img/mustang.png\"\n  // },{\n  //   id:\"3\",\n  //   name: \"Territory\",\n  //   url: \"assets/img/territory.png\"\n  // },{\n  //   id:\"4\",\n  //   name: \"Bronco Sport\",\n  //   url: \"assets/img/broncosport.png\"\n  // }]\n  constructor(vehicleInfoService) {\n    this.vehicleInfoService = vehicleInfoService;\n    this.initialVehicleId = 1;\n    this.allVehicles = [];\n    this.vehicleId = new FormControl(this.initialVehicleId);\n    this.initialVehicleInfo$ = this.vehicleInfoService.getVehicleInfo(this.initialVehicleId).pipe();\n    this.vehicleInfo$ = this.vehicleId.valueChanges.pipe(switchMap(value => this.vehicleInfoService.getVehicleInfo(value)), tap(console.log));\n    this.vehicleInfos$ = merge(this.initialVehicleInfo$, this.vehicleInfo$);\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.allVehicles = yield _this.vehicleInfoService.getAllVehicles();\n    })();\n  }\n\n  getImageUrl(value) {\n    console.log('getImageUrl', value);\n    return `assets/img/${value.vehicle_Model.toLowerCase().replace(' ', '')}.png`;\n  }\n\n};\nDashboardComponent = __decorate([Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})], DashboardComponent);\nexport { DashboardComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,SAAT,EAAoBC,GAApB,QAA+B,gBAA/B;AAEA,SAASC,KAAT,QAAsB,MAAtB;AAOA,IAAaC,kBAAkB,GAA/B,MAAaA,kBAAb,CAA+B;EAc7B;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEAC,YAAoBC,kBAApB,EAA0D;IAAtC;IA5CpB,wBAAmB,CAAnB;IAEA,mBAAc,EAAd;IAEA,iBAAY,IAAIN,WAAJ,CAAgB,KAAKO,gBAArB,CAAZ;IAEA,2BAAsB,KAAKD,kBAAL,CAAwBE,cAAxB,CAAuC,KAAKD,gBAA5C,EAA8DE,IAA9D,EAAtB;IAEA,oBAAe,KAAKC,SAAL,CAAeC,YAAf,CAA4BF,IAA5B,CACbR,SAAS,CAAEW,KAAD,IAAW,KAAKN,kBAAL,CAAwBE,cAAxB,CAAuCI,KAAvC,CAAZ,CADI,EAEbV,GAAG,CAACW,OAAO,CAACC,GAAT,CAFU,CAAf;IA+CA,qBAAgBX,KAAK,CAAC,KAAKY,mBAAN,EAA2B,KAAKC,YAAhC,CAArB;EAX+D;;EAEzDC,QAAQ;IAAA;;IAAA;MACZ,KAAI,CAACC,WAAL,SAAyB,KAAI,CAACZ,kBAAL,CAAwBa,cAAxB,EAAzB;IADY;EAEb;;EAEDC,WAAW,CAACR,KAAD,EAAM;IACfC,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BF,KAA3B;IACA,OAAO,cAAcA,KAAK,CAACS,aAAN,CAAoBC,WAApB,GAAkCC,OAAlC,CAA0C,GAA1C,EAA+C,EAA/C,CAAkD,MAAvE;EACD;;AAtD4B,CAA/B;AAAanB,kBAAkB,eAL9BL,SAAS,CAAC;EACTyB,QAAQ,EAAE,eADD;EAETC,WAAW,EAAE,4BAFJ;EAGTC,SAAS,EAAE,CAAC,2BAAD;AAHF,CAAD,CAKqB,GAAlBtB,kBAAkB,CAAlB;SAAAA","names":["Component","FormControl","switchMap","tap","merge","DashboardComponent","constructor","vehicleInfoService","initialVehicleId","getVehicleInfo","pipe","vehicleId","valueChanges","value","console","log","initialVehicleInfo$","vehicleInfo$","ngOnInit","allVehicles","getAllVehicles","getImageUrl","vehicle_Model","toLowerCase","replace","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\Leonardo\\Faculdade\\CIMATEC\\Sprint_FULLSTACK_ANGULAR_NODEJS\\Desafio\\ford\\src\\app\\dashboard\\dashboard\\dashboard.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { switchMap, tap } from 'rxjs/operators';\nimport { VehicleInfoService } from './services/vehicle-info.service';\nimport { merge } from 'rxjs';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n  initialVehicleId = 1\n\n  allVehicles = [];\n\n  vehicleId = new FormControl(this.initialVehicleId)\n\n  initialVehicleInfo$ = this.vehicleInfoService.getVehicleInfo(this.initialVehicleId).pipe();\n\n  vehicleInfo$ = this.vehicleId.valueChanges.pipe(\n    switchMap((value) => this.vehicleInfoService.getVehicleInfo(value)),\n    tap(console.log),\n  )\n\n  // initialVehicleInfoUrl$ = \"assets/img/ranger.png\"\n\n  // initialVehicleInfoUrl = this.vehicleInfoService.getVehicleInfo(this.initialVehicleId).pipe(\n  //   switchMap((value)=>this.vehicles.filter(vehicle => vehicle.id === value)),\n  //   tap(console.log),\n  // );\n\n  //  vehicleInfoUrl$ = this.vehicleId.valueChanges.pipe(\n  //    switchMap((value) => this.vehicleInfoService.getVehicleInfo(value as string)),\n  //    tap(console.log),\n  //  )\n\n\n  // vehicles = [{\n  //   id: \"1\",\n  //   name: \"Ranger\",\n  //   url: \"assets/img/ranger.png\",\n  // }, {\n  //   id: \"2\",\n  //   name: \"Mustang\",\n  //   url: \"assets/img/mustang.png\"\n  // },{\n  //   id:\"3\",\n  //   name: \"Territory\",\n  //   url: \"assets/img/territory.png\"\n  // },{\n  //   id:\"4\",\n  //   name: \"Bronco Sport\",\n  //   url: \"assets/img/broncosport.png\"\n  // }]\n\n  constructor(private vehicleInfoService: VehicleInfoService) { }\n\n  async ngOnInit(): Promise<void> {\n    this.allVehicles = await this.vehicleInfoService.getAllVehicles();\n  }\n\n  getImageUrl(value){\n    console.log('getImageUrl', value);\n    return `assets/img/${value.vehicle_Model.toLowerCase().replace(' ', '')}.png`;\n  }\n\n  vehicleInfos$ = merge(this.initialVehicleInfo$, this.vehicleInfo$);\n  // vehicleInfosUrl$ = merge(this.initialVehicleInfo$, this.vehicleInfoUrl$);\n\n}\n"]},"metadata":{},"sourceType":"module"}