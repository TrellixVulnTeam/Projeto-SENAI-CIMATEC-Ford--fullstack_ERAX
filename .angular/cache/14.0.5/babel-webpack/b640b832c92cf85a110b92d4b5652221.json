{"ast":null,"code":"import _asyncToGenerator from \"D:/Leonardo/Faculdade/CIMATEC/Sprint_Angular/Desafio/documentosApoioDesafioAngular/ford/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { tap, switchMap, filter, debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport { merge } from 'rxjs';\nconst ESPERA_DIGITACAO = 300;\nlet TableComponent = class TableComponent {\n  constructor(tabelaService) {\n    var _this = this;\n\n    this.tabelaService = tabelaService;\n    this.initialVehicleVin = \"2FRHDUYS2Y63NHD22454\";\n    this.vehicleVin = new FormControl(this.initialVehicleVin);\n    this.initialVehicleInfo$ = this.tabelaService.getVehicleInfo(this.initialVehicleVin).pipe();\n    this.vehicleInfo$ = this.vehicleVin.valueChanges.pipe(switchMap(value => this.tabelaService.getVehicleInfo(value)), tap(console.log));\n    this.tabelaInput = new FormControl();\n    this.todaTabela$ = this.tabelaService.getVehicleInfo(this.initialVehicleVin).pipe(tap(() => {\n      console.log(\"Fluxo Inicial\");\n    }));\n    this.filtroPeloInput$ = this.tabelaInput.valueChanges.pipe(debounceTime(ESPERA_DIGITACAO), tap(() => {\n      console.log(\"Fluxo do Filtro\");\n    }), tap(console.log), filter(valorDigitado => valorDigitado.length >= 6 || !valorDigitado.length), distinctUntilChanged(), switchMap( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (valorDigitado) {\n        return _this.tabelaService.getVehicleInfo(valorDigitado);\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()), tap(console.log));\n    this.Tabela$ = merge(this.todaTabela$, this.filtroPeloInput$);\n  }\n\n  ngOnInit() {}\n\n};\nTableComponent = __decorate([Component({\n  selector: 'app-tabela',\n  templateUrl: './tabela.component.html',\n  styleUrls: ['./tabela.component.css']\n})], TableComponent);\nexport { TableComponent }; // export class TabelaComponent {\n//   tabelaInput = new FormControl();\n//   todaTabela$ = this.tabelaService.getVehicleInfo(vehicleInfoUrl).pipe(\n//     tap(()=>{console.log(\"Fluxo Inicial\")\n//   })\n//   );","map":{"version":3,"mappings":";;AACA,SAASA,SAAT,QAAkC,eAAlC;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,MAAzB,EAAiCC,YAAjC,EAA+CC,oBAA/C,QAA2E,gBAA3E;AAEA,SAASC,KAAT,QAAsB,MAAtB;AAEA,MAAMC,gBAAgB,GAAG,GAAzB;AAOA,IAAaC,cAAc,GAA3B,MAAaA,cAAb,CAA2B;EA8BvBC,YAAoBC,aAApB,EAAgD;IAAA;;IAA5B;IA5BtB,yBAAoB,sBAApB;IACA,kBAAa,IAAIV,WAAJ,CAAgB,KAAKW,iBAArB,CAAb;IACA,2BAAsB,KAAKD,aAAL,CAAmBE,cAAnB,CAAkC,KAAKD,iBAAvC,EAA0DE,IAA1D,EAAtB;IACA,oBAAe,KAAKC,UAAL,CAAgBC,YAAhB,CAA6BF,IAA7B,CACbX,SAAS,CAAEc,KAAD,IAAW,KAAKN,aAAL,CAAmBE,cAAnB,CAAkCI,KAAlC,CAAZ,CADI,EAEbf,GAAG,CAACgB,OAAO,CAACC,GAAT,CAFU,CAAf;IAKA,mBAAc,IAAIlB,WAAJ,EAAd;IACA,mBAAc,KAAKU,aAAL,CAAmBE,cAAnB,CAAkC,KAAKD,iBAAvC,EAA0DE,IAA1D,CACXZ,GAAG,CAAC,MAAI;MAACgB,OAAO,CAACC,GAAR,CAAY,eAAZ;IACV,CADI,CADQ,CAAd;IAKE,wBAAmB,KAAKC,WAAL,CAAiBJ,YAAjB,CAA8BF,IAA9B,CACjBT,YAAY,CAACG,gBAAD,CADK,EAEjBN,GAAG,CAAC,MAAI;MAACgB,OAAO,CAACC,GAAR,CAAY,iBAAZ;IAA+B,CAArC,CAFc,EAGjBjB,GAAG,CAACgB,OAAO,CAACC,GAAT,CAHc,EAIjBf,MAAM,CAAEiB,aAAD,IAAiBA,aAAa,CAACC,MAAd,IAAwB,CAAxB,IAA6B,CAACD,aAAa,CAACC,MAA9D,CAJW,EAKjBhB,oBAAoB,EALH,EAMjBH,SAAS;MAAA,6BAAC,WAAOkB,aAAP;QAAA,OAAyB,KAAI,CAACV,aAAL,CAAmBE,cAAnB,CAAkCQ,aAAlC,CAAzB;MAAA,CAAD;;MAAA;QAAA;MAAA;IAAA,IANQ,EAOjBnB,GAAG,CAACgB,OAAO,CAACC,GAAT,CAPc,CAAnB;IAgBA,eAAUZ,KAAK,CAAC,KAAKgB,WAAN,EAAmB,KAAKC,gBAAxB,CAAf;EAFqD;;EAJrDC,QAAQ,IAEP;;AA5BsB,CAA3B;AAAahB,cAAc,eAN1BT,SAAS,CAAC;EACT0B,QAAQ,EAAE,YADD;EAETC,WAAW,EAAE,yBAFJ;EAGTC,SAAS,EAAE,CAAC,wBAAD;AAHF,CAAD,CAMiB,GAAdnB,cAAc,CAAd;SAAAA,iB,CAsCb;AACA;AACA;AACA;AACA;AACA","names":["Component","FormControl","tap","switchMap","filter","debounceTime","distinctUntilChanged","merge","ESPERA_DIGITACAO","TableComponent","constructor","tabelaService","initialVehicleVin","getVehicleInfo","pipe","vehicleVin","valueChanges","value","console","log","tabelaInput","valorDigitado","length","todaTabela$","filtroPeloInput$","ngOnInit","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\Leonardo\\Faculdade\\CIMATEC\\Sprint_Angular\\Desafio\\documentosApoioDesafioAngular\\ford\\src\\app\\dashboard\\tabela\\tabela.component.ts"],"sourcesContent":["import { TabelaService } from './services/tabela.service';\nimport { Component, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { tap, switchMap, filter, debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport { Tabela } from './tabela';\nimport { merge } from 'rxjs';\n\nconst ESPERA_DIGITACAO = 300;\n@Component({\n  selector: 'app-tabela',\n  templateUrl: './tabela.component.html',\n  styleUrls: ['./tabela.component.css']\n})\n\nexport class TableComponent implements OnInit {\n\n  initialVehicleVin = \"2FRHDUYS2Y63NHD22454\"\n  vehicleVin = new FormControl(this.initialVehicleVin)\n  initialVehicleInfo$ = this.tabelaService.getVehicleInfo(this.initialVehicleVin).pipe();\n  vehicleInfo$ = this.vehicleVin.valueChanges.pipe(\n    switchMap((value) => this.tabelaService.getVehicleInfo(value as string)),\n    tap(console.log),\n  )\n\n  tabelaInput = new FormControl();\n  todaTabela$ = this.tabelaService.getVehicleInfo(this.initialVehicleVin).pipe(\n     tap(()=>{console.log(\"Fluxo Inicial\")\n   })\n   );\n\n    filtroPeloInput$ = this.tabelaInput.valueChanges.pipe(\n      debounceTime(ESPERA_DIGITACAO),\n      tap(()=>{console.log(\"Fluxo do Filtro\")}),\n      tap(console.log),\n      filter((valorDigitado)=>valorDigitado.length >= 6 || !valorDigitado.length),\n      distinctUntilChanged(),\n      switchMap(async (valorDigitado) => this.tabelaService.getVehicleInfo(valorDigitado)),\n      tap(console.log)\n    );\n\n    ngOnInit(): void {\n\n    }\n\n    constructor(private tabelaService: TabelaService) { }\n\n    Tabela$ = merge(this.todaTabela$, this.filtroPeloInput$);\n\n  }\n\n\n\n// export class TabelaComponent {\n//   tabelaInput = new FormControl();\n//   todaTabela$ = this.tabelaService.getVehicleInfo(vehicleInfoUrl).pipe(\n//     tap(()=>{console.log(\"Fluxo Inicial\")\n//   })\n//   );\n\n\n"]},"metadata":{},"sourceType":"module"}