{"ast":null,"code":"import _asyncToGenerator from \"D:/Leonardo/Faculdade/CIMATEC/Sprint_FULLSTACK_ANGULAR_NODEJS/Desafio/ford/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormControl } from '@angular/forms';\nimport { switchMap, tap } from 'rxjs/operators';\nimport { merge } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/vehicle-info.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../common/components/menu/menu.component\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../chart/chart.component\";\nimport * as i7 from \"../table/table.component\";\n\nfunction DashboardComponent_div_12_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const v_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", v_r4.id_vehicle_Model);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(v_r4.vehicle_Model);\n  }\n}\n\nfunction DashboardComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"div\", 13)(3, \"div\", 14)(4, \"div\", 15);\n    i0.ɵɵtext(5, \" Ve\\u00EDculo \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 16)(7, \"select\", 17);\n    i0.ɵɵtemplate(8, DashboardComponent_div_12_option_8_Template, 2, 2, \"option\", 18);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(9, \"div\", 13)(10, \"div\", 14)(11, \"div\", 15);\n    i0.ɵɵtext(12, \" Total de Vendas \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 16)(14, \"h4\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\", 19);\n    i0.ɵɵtext(17, \"Unid.\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(18, \"div\", 13)(19, \"div\", 14)(20, \"div\", 15);\n    i0.ɵɵtext(21, \" Conectados \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 16)(23, \"h4\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"p\", 19);\n    i0.ɵɵtext(26, \"Unid.\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(27, \"div\", 13)(28, \"div\", 14)(29, \"div\", 15);\n    i0.ɵɵtext(30, \" Update Software \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 16)(32, \"h4\");\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"p\", 19);\n    i0.ɵɵtext(35, \"Unid.\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(36, \"div\");\n    i0.ɵɵelement(37, \"app-chart\");\n    i0.ɵɵelementStart(38, \"div\", 12)(39, \"div\", 20);\n    i0.ɵɵelement(40, \"img\", 21);\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const vehicleInfos_r2 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.vehicleId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.allVehicles);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(vehicleInfos_r2.vehicle_Sales);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(vehicleInfos_r2.vehicle_Connected);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(vehicleInfos_r2.vehicle_SoftwareUpdate);\n    i0.ɵɵadvance(7);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r0.getImageUrl(vehicleInfos_r2), i0.ɵɵsanitizeUrl);\n  }\n}\n\nconst _c0 = function () {\n  return [\"/login\"];\n};\n\nconst _c1 = function () {\n  return [\"/main\"];\n};\n\nconst _c2 = function () {\n  return [\"/dashboard\"];\n};\n\nexport class DashboardComponent {\n  constructor(vehicleInfoService) {\n    this.vehicleInfoService = vehicleInfoService;\n    this.initialVehicleId = 1;\n    this.allVehicles = [];\n    this.vehicleId = new FormControl(this.initialVehicleId);\n    this.initialVehicleInfo$ = this.vehicleInfoService.getVehicleInfo(this.initialVehicleId).pipe();\n    this.vehicleInfo$ = this.vehicleId.valueChanges.pipe(switchMap(value => this.vehicleInfoService.getVehicleInfo(value)), tap(console.log));\n    this.vehicleInfos$ = merge(this.initialVehicleInfo$, this.vehicleInfo$);\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.allVehicles = yield _this.vehicleInfoService.getAllVehicles();\n    })();\n  }\n\n  getImageUrl(value) {\n    console.log('getImageUrl', value);\n    return `assets/img/${value.vehicle_Model.toLowerCase().replace(' ', '')}.png`;\n  }\n\n}\n\nDashboardComponent.ɵfac = function DashboardComponent_Factory(t) {\n  return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.VehicleInfoService));\n};\n\nDashboardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DashboardComponent,\n  selectors: [[\"app-dashboard\"]],\n  decls: 26,\n  vars: 9,\n  consts: [[1, \"navbar\", \"navbar-light\", \"bg-white\"], [1, \"navbar-brand\"], [1, \"fa\", \"fa-bars\", \"mr-2\", 3, \"click\", \"keyup.space\"], [3, \"routerLink\"], [1, \"material-symbols-outlined\"], [1, \"title\"], [\"class\", \"container\", 4, \"ngIf\"], [\"menu\", \"\"], [\"src\", \"assets/img/ford.png\", 1, \"logo\"], [1, \"list-unstyled\"], [1, \"line\"], [1, \"container\"], [1, \"row\"], [1, \"col\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"form-select\", 3, \"formControl\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [1, \"card-text\"], [1, \"image\"], [3, \"src\"], [3, \"ngValue\"]],\n  template: function DashboardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r5 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\")(1, \"nav\", 0)(2, \"a\", 1)(3, \"i\", 2);\n      i0.ɵɵlistener(\"click\", function DashboardComponent_Template_i_click_3_listener() {\n        i0.ɵɵrestoreView(_r5);\n\n        const _r1 = i0.ɵɵreference(17);\n\n        return i0.ɵɵresetView(_r1.abreMenu());\n      })(\"keyup.space\", function DashboardComponent_Template_i_keyup_space_3_listener() {\n        i0.ɵɵrestoreView(_r5);\n\n        const _r1 = i0.ɵɵreference(17);\n\n        return i0.ɵɵresetView(_r1.abreMenu());\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \" Menu\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\")(6, \"a\", 3)(7, \"span\", 4);\n      i0.ɵɵtext(8, \"logout\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(9, \"div\", 5)(10, \"h3\");\n      i0.ɵɵtext(11, \"Dashboard FORD\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(12, DashboardComponent_div_12_Template, 41, 6, \"div\", 6);\n      i0.ɵɵpipe(13, \"async\");\n      i0.ɵɵelementStart(14, \"div\");\n      i0.ɵɵelement(15, \"app-table\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"app-menu\", null, 7);\n      i0.ɵɵelement(18, \"img\", 8);\n      i0.ɵɵelementStart(19, \"ul\", 9)(20, \"li\", 10)(21, \"a\", 3);\n      i0.ɵɵtext(22, \"Home\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"li\", 10)(24, \"a\", 3);\n      i0.ɵɵtext(25, \"Dashboard\");\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(6, _c0));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(13, 4, ctx.vehicleInfos$));\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(7, _c1));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(8, _c2));\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLinkWithHref, i4.MenuComponent, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.FormControlDirective, i6.ChartComponent, i7.TableComponent, i2.AsyncPipe],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 181:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(21:3) D:\\\\\\\\Leonardo\\\\\\\\Faculdade\\\\\\\\CIMATEC\\\\\\\\Sprint_FULLSTACK_ANGULAR_NODEJS\\\\\\\\Desafio\\\\\\\\ford\\\\\\\\src\\\\\\\\app\\\\\\\\dashboard\\\\\\\\dashboard\\\\\\\\dashboard.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 19 | \\\\u001b[39mimg\\\\u001b[33m{\\\\u001b[39m\\\\n \\\\u001b[90m 20 | \\\\u001b[39m  margin\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 21 | \\\\u001b[39m  width\\\\u001b[33m:\\\\u001b[39m320px\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m    | \\\\u001b[39m  \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 22 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 23 | \\\\u001b[39m\\\\u001b[33m.form-select\\\\u001b[39m\\\\u001b[33m{\\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[181]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=dashboard.component.css.map*/\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","switchMap","tap","merge","i0","DashboardComponent","constructor","vehicleInfoService","initialVehicleId","getVehicleInfo","pipe","vehicleId","valueChanges","value","console","log","initialVehicleInfo$","vehicleInfo$","ngOnInit","allVehicles","getAllVehicles","getImageUrl","vehicle_Model","toLowerCase","replace","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Leonardo\\Faculdade\\CIMATEC\\Sprint_FULLSTACK_ANGULAR_NODEJS\\Desafio\\ford\\src\\app\\dashboard\\dashboard\\dashboard.component.ts","D:\\Leonardo\\Faculdade\\CIMATEC\\Sprint_FULLSTACK_ANGULAR_NODEJS\\Desafio\\ford\\src\\app\\dashboard\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { switchMap, tap } from 'rxjs/operators';\nimport { VehicleInfoService } from './services/vehicle-info.service';\nimport { merge } from 'rxjs';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n  initialVehicleId = 1\n\n  allVehicles = [];\n\n  vehicleId = new FormControl(this.initialVehicleId)\n\n  initialVehicleInfo$ = this.vehicleInfoService.getVehicleInfo(this.initialVehicleId).pipe();\n\n  vehicleInfo$ = this.vehicleId.valueChanges.pipe(\n    switchMap((value) => this.vehicleInfoService.getVehicleInfo(value)),\n    tap(console.log),\n  )\n\n  constructor(private vehicleInfoService: VehicleInfoService) { }\n\n  async ngOnInit(): Promise<void> {\n    this.allVehicles = await this.vehicleInfoService.getAllVehicles();\n  }\n\n  getImageUrl(value){\n    console.log('getImageUrl', value);\n    return `assets/img/${value.vehicle_Model.toLowerCase().replace(' ', '')}.png`;\n  }\n\n  vehicleInfos$ = merge(this.initialVehicleInfo$, this.vehicleInfo$);\n\n}\n","<div>\n  <nav class=\"navbar navbar-light bg-white\">\n    <a class=\"navbar-brand\">\n    <i class=\"fa fa-bars mr-2\"(click)=\"menu.abreMenu()\"\n    (keyup.space)=\"menu.abreMenu()\"></i> Menu</a>\n    <div>\n      <a [routerLink]=\"['/login']\"><span class=\"material-symbols-outlined\">logout</span></a>\n    </div>\n  </nav>\n</div>\n\n<div class=\"title\">\n  <h3>Dashboard FORD</h3>\n</div>\n\n<div class=\"container\" *ngIf=\"vehicleInfos$ | async as vehicleInfos;\">\n\n  <div class=\"row\">\n\n    <div class=\"col\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          Veículo\n        </div>\n        <div class=\"card-body\">\n          <select class=\"form-select\"  [formControl]=\"vehicleId\">\n            <option *ngFor=\"let v of allVehicles\" [ngValue]=\"v.id_vehicle_Model\">{{v.vehicle_Model}}</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          Total de Vendas\n        </div>\n        <div class=\"card-body\">\n          <h4>{{vehicleInfos.vehicle_Sales}}</h4>\n          <p class=\"card-text\">Unid.</p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          Conectados\n        </div>\n        <div class=\"card-body\">\n          <h4>{{vehicleInfos.vehicle_Connected}}</h4>\n          <p class=\"card-text\">Unid.</p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          Update Software\n        </div>\n        <div class=\"card-body\">\n          <h4>{{vehicleInfos.vehicle_SoftwareUpdate}}</h4>\n          <p class=\"card-text\">Unid.</p>\n        </div>\n      </div>\n    </div>\n\n    <div>\n      <app-chart></app-chart>\n      <div class=\"row\">\n        <div class=\"image\">\n          <img src='{{getImageUrl(vehicleInfos)}}'/>\n        </div>\n      </div>\n    </div>\n    </div>\n  </div>\n\n\n<div>\n  <app-table></app-table>\n</div>\n\n<app-menu #menu>\n  <img src=\"assets/img/ford.png\" class=\"logo\"/>\n  <ul class=\"list-unstyled\">\n    <li class=\"line\"><a [routerLink]=\"['/main']\">Home</a></li>\n    <li class=\"line\"><a [routerLink]=\"['/dashboard']\">Dashboard</a></li>\n  </ul>\n</app-menu>\n\n"]},"metadata":{},"sourceType":"module"}